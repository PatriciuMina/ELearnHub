<%= javascript_pack_tag 'up' %>
<div id="wrapper">
  <%= render 'layouts/leftBar' %>

  <div id="content-wrapper" class="d-flex flex-column">
    <div id="content">
      <%= render 'layouts/topBar' %>
      <div class="container-fluid" style="padding-bottom: 20px">
        <h1 class="h3 mb-0 text-gray-800 text-center">Users</h1>


        <p></p>

        <div>
          <table class="table table-striped table-bordered table-hover">
            <thead class="thead-dark">
            <tr>
              <th>#</th>
              <th>Name</th>
              <th>Email</th>
              <th>Role</th>
              <th>User Profile</th>
            </tr>
            </thead>
            <tbody>
            <% @users.each do |u| %>
              <tr>
                <th><%= u.id %></th>
                <td><%= u.name %></td>
                <td><%= u.email %></td>
                <td><%= u.role %></td>
                <td><%= link_to "User Profile", user_profile_users_admin_index_path(user_id: u.id), class: "btn btn-primary btn_rounded-3" %></td>
              </tr>
            <% end %>
            </tbody>
          </table>
        </div>

        <%= form_with url: import_users_users_admin_index_path, method: :post do |form| %>

          <div class="actions">
            <%= form.submit 'Import Users', class: 'btn btn-success', data: { turbo: false } %>


            <div class="field form-group">
              <%= form.file_field :file, autofocus: true, autocomplete: "file", class: "form-control", placeholder: "Chose a File" %>
            </div>
            <br/>


          </div>
          <br/>

        <% end %>
        <a class="btn btn-primary" <%= link_to "Export Users", export_users_users_admin_index_path(format: :csv), method: :post %></a>

        <div class="text my-4">
          <%= will_paginate @users, renderer: WillPaginate::ActionView::BootstrapLinkRenderer %>
        </div>


        <div class="section">
        </div>
        <div class="section">
        </div>

        <div class="progress-wrap">
          <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
            <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
          </svg>
        </div>

      </div>
    </div>
  </div>
</div>
</div>